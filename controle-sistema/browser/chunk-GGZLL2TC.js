import{a as R,i as f}from"./chunk-5PORZ3CF.js";import{$ as c,Aa as C,Gb as b,Jb as I,Kb as M,Ma as E,Pa as S,R as d,Ra as e,Sa as i,Ua as _,Va as v,Wa as x,Xa as n,Ya as a,_ as u,ga as g,ha as h,za as r}from"./chunk-AYS3SIS2.js";function D(l,o){if(l&1){let t=_();e(0,"tr")(1,"td"),n(2),i(),e(3,"td"),n(4),i(),e(5,"td"),n(6),i(),e(7,"td"),n(8),i(),e(9,"td"),n(10),i(),e(11,"td"),n(12),i(),e(13,"td"),n(14),i(),e(15,"td"),n(16),i(),e(17,"td"),n(18),i(),e(19,"td"),n(20),i(),e(21,"td"),n(22),i(),e(23,"td")(24,"button",2),v("click",function(){let O=g(t).$implicit,P=x();return h(P.excluirDado(O.servico_id))}),n(25,"Excluir"),i()()()}if(l&2){let t=o.$implicit,m=x();r(2),a(t.servico_id),r(2),a(t.nome),r(2),a(t.cpf),r(2),a(t.empresa),r(2),a(t.cnpj),r(2),a(t.tipo),r(2),a(m.formatValor(t.valor)),r(2),a(m.formatData(t.data_validade)),r(2),a(t.banco),r(2),a(t.pagamento_tipo),r(2),a(t.descricao)}}var p=class l{constructor(o){this.http=o}relatorio=[];ngOnInit(){this.carregarRelatorio()}carregarRelatorio(){this.http.get("http://localhost:3000/relatorio").subscribe(o=>{this.relatorio=o},o=>{alert("Erro ao carregar dados: "+o.message)})}excluirDado(o){this.http.delete(`http://localhost:3000/relatorio/${o}`).subscribe(()=>{alert("Dado exclu\xEDdo com sucesso!"),this.relatorio=this.relatorio.filter(t=>t.servico_id!==o)},t=>{alert("Erro ao excluir o dado: "+t.message)})}formatData(o){return new Date(o).toLocaleDateString("pt-BR")}formatTelefone(o){return o.length===11?`(${o.slice(0,2)}) ${o.slice(2,7)}-${o.slice(7)}`:`${o.slice(0,5)}-${o.slice(5)}`}formatValor(o){return b(o,"pt-BR","R$")}static \u0275fac=function(t){return new(t||l)(C(R))};static \u0275cmp=u({type:l,selectors:[["app-relatorio"]],decls:29,vars:1,consts:[["border","1"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,m){t&1&&(e(0,"h2"),n(1,"Relat\xF3rio de Cadastro"),i(),e(2,"table",0)(3,"thead")(4,"tr")(5,"th"),n(6,"Cod"),i(),e(7,"th"),n(8,"Nome"),i(),e(9,"th"),n(10,"CPF"),i(),e(11,"th"),n(12,"Empresa"),i(),e(13,"th"),n(14,"CNPJ"),i(),e(15,"th"),n(16,"Servi\xE7o"),i(),e(17,"th"),n(18,"Valor"),i(),e(19,"th"),n(20,"Data Vencimento"),i(),e(21,"th"),n(22,"Banco"),i(),e(23,"th"),n(24,"Tipo Pagamento"),i(),e(25,"th"),n(26,"Descri\xE7\xE3o"),i()()(),e(27,"tbody"),E(28,D,26,11,"tr",1),i()()),t&2&&(r(28),S("ngForOf",m.relatorio))},dependencies:[I],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;text-align:left;white-space:nowrap}th[_ngcontent-%COMP%]{background-color:#f2f2f2}td[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;text-overflow:ellipsis}.expandable-row[_ngcontent-%COMP%]{display:none;background-color:#f9f9f9}.expanded[_ngcontent-%COMP%]   .expandable-row[_ngcontent-%COMP%]{display:table-row}button[_ngcontent-%COMP%]{padding:6px 12px;cursor:pointer}"]})};var F=[{path:"",component:p}],s=class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=c({type:l});static \u0275inj=d({imports:[f.forChild(F),f]})};var y=class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=c({type:l});static \u0275inj=d({imports:[M,s]})};export{y as a};
